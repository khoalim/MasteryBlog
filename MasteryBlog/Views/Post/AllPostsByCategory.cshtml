@model IEnumerable<MasteryBlog.Models.Category>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Blog Posts</title>
</head>
<body>
    <h1>All Blog Posts</h1>
    <div>
        <section id="Destinations">

            @*<img src="@Model.First().Category.Image" alt="@Model.First().Category.Name" style="height:10rem; width:20rem;" />*@

            @foreach (var category in Model)
                {
                    <article>
                        <p><a href="/Category/Details/@category.Id">@category.Name</a></p>
                        <img src="@category.Image" alt="@category.Name" style="height: 120px; width: 200px;" />
                        
                        @foreach (var posts in category.Posts)
                           {
                                <article>
                                    <p>Title: @posts.Title</p>
                                    <p>Body: @posts.Body</p>
                                    <p>Author: @posts.Author</p>
                                    <p>Category: @posts.Category.Name</p>
                                    <p>Publish Date: @posts.PublishDate</p>

                                    <section id="Forms">
                                        <form action="/Post/EditByCategoryID/@posts.ID" method="get">
                                            <input type="submit" value="Edit This Post" />
                                        </form>
                                    </section>
                                  <hr />
                                </article>
                           }
                    </article>
                }

            @*<p><a href="/Category/Details/@Model.First().ID">Details for Travel Categories</a></p>*@
        </section>
    </div>
    <p><a href="/Category/Index/">Go Back To Home Page</a></p><br />
    <p><a href="/Post/CreatePostFromIndex/">Create New Post</a></p>
    

    <footer><h6>&copy; Travel Blog 2019</h6></footer>

</body>
</html>
